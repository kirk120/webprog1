<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML5 Features</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        header {
            background-color: #1976d2;
            color: white;
            padding: 20px;
            text-align: center;
            width: 100%;
        }

        header h1 {
            font-size: clamp(20px, 3vw, 32px);
            font-weight: bold;
            margin: 0;
        }

        nav {
            background-color: #1976d2;
            width: 100%;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 12px 20px;
            display: block;
            transition: all 0.2s ease-in-out;
        }

        nav a.active {
            background-color: #64b5f6;
            font-weight: bold;
        }

        nav a:hover {
            text-decoration: underline;
        }

        section {
            margin: 20px;
            padding: 20px;
            width: 80%;
            border: 1px solid #ccc;
        }

        #drag {
            width: 100px;
            height: 100px;
            background-color: blue;
            color: white;
            text-align: center;
            line-height: 100px;
            cursor: move;
        }

        #drop {
            width: 200px;
            height: 200px;
            border: 2px dashed #000;
            position: relative; /* Fontos az elengedési pozíciókhoz */
        }

        canvas {
            border: 1px solid #000;
        }

        footer {
            background-color: #1976d2;
            color: white;
            text-align: center;
            padding: 15px;
            width: 100%;
        }
    </style>
</head>
<body>

    <header>
        <h1>Web-programozás-1 Előadás Házi feladat</h1>
    </header>

    <nav>
        <a href="index.html">Kezdőlap</a>
        <a href="crud.html">Táblázat</a>
        <a href="html5.html">HTML5</a>
        <a href="chartsjs.html">ChartJS</a>
        <a href="ajax.html" class="active">AJAX</a>
        <a href="oojs.html">OOJS</a>
        <a href="react.html">React</a>
    </nav>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX API Kezelés</title>
    <script src="ajax.js" defer></script>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { max-width: 600px; margin: auto; }
        .message { color: green; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h2>API Adatok</h2>
        <button onclick="loadData()">Adatok betöltése</button>
        <div id="dataContainer"></div>
        <h3>Statisztikák</h3>
        <p id="sum"></p>
        <p id="avg"></p>
        <p id="max"></p>
        
        <h3>Új adat hozzáadása</h3>
        <input type="text" id="newName" placeholder="Név" maxlength="30">
        <input type="number" id="newHeight" placeholder="Magasság">
        <button onclick="createData()">Hozzáadás</button>
        <p id="createMessage" class="message"></p>

        <h3>Adat módosítása</h3>
        <input type="number" id="updateId" placeholder="ID">
        <button onclick="getDataForId()">Adatok betöltése</button>
        <input type="text" id="updateName" placeholder="Új név" maxlength="30">
        <input type="number" id="updateHeight" placeholder="Új magasság">
        <button onclick="updateData()">Módosítás</button>
        <p id="updateMessage" class="message"></p>

        <h3>Adat törlése</h3>
        <input type="number" id="deleteId" placeholder="ID">
        <button onclick="deleteData()">Törlés</button>
        <p id="deleteMessage" class="message"></p>
    </div>

    <script>
        const API_URL = "https://api.example.com/data";

        function loadData() {
            fetch(API_URL)
                .then(response => response.json())
                .then(data => {
                    let html = "";
                    let sum = 0, max = 0;
                    data.forEach(item => {
                        html += `<p>ID: ${item.id}, Név: ${item.name}, Magasság: ${item.height}</p>`;
                        sum += item.height;
                        if (item.height > max) max = item.height;
                    });
                    document.getElementById("dataContainer").innerHTML = html;
                    document.getElementById("sum").innerText = `Összeg: ${sum}`;
                    document.getElementById("avg").innerText = `Átlag: ${sum / data.length}`;
                    document.getElementById("max").innerText = `Legnagyobb: ${max}`;
                });
        }

        function createData() {
            let name = document.getElementById("newName").value;
            let height = document.getElementById("newHeight").value;
            if (!name || name.length > 30 || !height) {
                alert("Hibás adat!");
                return;
            }
            fetch(API_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ name, height })
            }).then(() => {
                document.getElementById("createMessage").innerText = "Sikeres hozzáadás!";
                loadData();
            });
        }

        function getDataForId() {
            let id = document.getElementById("updateId").value;
            fetch(`${API_URL}/${id}`)
                .then(response => response.json())
                .then(data => {
                    document.getElementById("updateName").value = data.name;
                    document.getElementById("updateHeight").value = data.height;
                });
        }

        function updateData() {
            let id = document.getElementById("updateId").value;
            let name = document.getElementById("updateName").value;
            let height = document.getElementById("updateHeight").value;
            if (!name || name.length > 30 || !height) {
                alert("Hibás adat!");
                return;
            }
            fetch(`${API_URL}/${id}`, {
                method: "PUT",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ name, height })
            }).then(() => {
                document.getElementById("updateMessage").innerText = "Sikeres módosítás!";
                loadData();
            });
        }

        function deleteData() {
            let id = document.getElementById("deleteId").value;
            fetch(`${API_URL}/${id}`, { method: "DELETE" })
                .then(() => {
                    document.getElementById("deleteMessage").innerText = "Sikeres törlés!";
                    loadData();
                });
        }
    </script>
    <footer>
        Készítette:<br> 
        Vágány Zoltán - GF8NSN<br>
        Fidesz János  - JQVPJ7
    </footer>
</body>
</html>
